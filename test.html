<!DOCTYPE html>
<html lang="en">

  <head>
  </head>


<script>

function kickOff() {
  return new Promise((resolve, reject) => {
    fetch('https://api.simplecoding.dev/articles')
      .then(function (res) {
        //console.log("gist",res.text());
        if (res.ok) {
          return res.text()
        } else {
          //console.error('The fetch fails, and the response code is ' + res.status)
          return "neel";
        }
      }).then((text)=>{
      //console.log("text", text);
      //const parser = new DOMParser()
      //const doc = parser.parseFromString(text, 'text/html')
      //let gist = doc.querySelector('script');
      let gist = 'abc';
      if (gist) {
        let liquid_tag = '{% gist https://gist.github.com/sksaikia/10ea71990b58e8733d740824ed3a8774.js %}';//`{% gist ${gist.src} %}`;
        console.log("liquid_tag", liquid_tag);
        resolve(liquid_tag)
      }
    });
    //resolve("start")
  })
}

// Promise.all([start]).then(results => {
//   results.forEach(
//       result => console.log(result)
//   );
// })
async function drive(){
  let res = await kickOff();
  console.log(res);
  console.log("neel");
}

drive();


async function f() {

  let promise = new Promise((resolve, reject) => {
    setTimeout(() => resolve("done!"), 1000)
  });

  let result = await promise; // wait until the promise resolves (*)

  alert(result); // "done!"
}

f();



</script>

<body>
</body>
